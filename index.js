"use strict";var _express=_interopRequireDefault(require("express"));var _promises=require("stream/promises");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const app=(0,_express.default)();app.get("/",(_,res)=>{res.sendStatus(200)});app.use("*",_express.default.json(),async(req,res)=>{try{const{url,method,headers,body}=req.body;if(!url)throw new Error("missing url");if(!method)throw new Error("missing method");const response=await fetch(url,{method,...(headers&&{headers}),...(body&&{body})});await(0,_promises.pipeline)(response.body,res)}catch{res.sendStatus(400)}});app.listen(process.env.PORT);